"use strict";(self.webpackChunkmap_observer=self.webpackChunkmap_observer||[]).push([[592],{3151:(_,u,l)=>{l.d(u,{d:()=>c});var a=l(7579),d=l(6063);class m extends a.x{constructor(e=1/0,i=1/0,t=d.l){super(),this._bufferSize=e,this._windowTime=i,this._timestampProvider=t,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=i===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,i)}next(e){const{isStopped:i,_buffer:t,_infiniteTimeWindow:o,_timestampProvider:n,_windowTime:r}=this;i||(t.push(e),!o&&t.push(n.now()+r)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const i=this._innerSubscribe(e),{_infiniteTimeWindow:t,_buffer:o}=this,n=o.slice();for(let r=0;r<n.length&&!e.closed;r+=t?1:2)e.next(n[r]);return this._checkFinalizedStatuses(e),i}_trimBuffer(){const{_bufferSize:e,_timestampProvider:i,_buffer:t,_infiniteTimeWindow:o}=this,n=(o?1:2)*e;if(e<1/0&&n<t.length&&t.splice(0,t.length-n),!o){const r=i.now();let f=0;for(let h=1;h<t.length&&t[h]<=r;h+=2)f=h;f&&t.splice(0,f+1)}}}var p=l(3099);function c(s,e,i){var t,o;let n,r=!1;return s&&"object"==typeof s?(n=null!==(t=s.bufferSize)&&void 0!==t?t:1/0,e=null!==(o=s.windowTime)&&void 0!==o?o:1/0,r=!!s.refCount,i=s.scheduler):n=null!=s?s:1/0,(0,p.B)({connector:()=>new m(n,e,i),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}}}]);